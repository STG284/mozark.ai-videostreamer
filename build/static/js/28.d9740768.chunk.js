(this["webpackJsonpapp-testing"]=this["webpackJsonpapp-testing"]||[]).push([[28],{1912:function(e,t,n){"use strict";n.r(t),n.d(t,"AppProfiling",(function(){return ne})),n.d(t,"repoErrorText",(function(){return ie}));var i=n(70),a=n(1),o=n(18),r=n(143),l=n(72),s=n(54),c=n(5),d=n(36);let p=function(e){return e[e.RESPONSE_ERROR=1]="RESPONSE_ERROR",e[e.TEST_NOT_FOUND=2]="TEST_NOT_FOUND",e}({});var b=n(33);const x=n(35).j;function*h(e){const t=Object(b.a)(),n="".concat(x,"/tests/").concat(e.payload.testId,"/device/resource/").concat(e.payload.name),i={method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}};try{const t=yield Object(c.a)(d.c,n,i);0!==Object.keys(t.body).length?yield Object(c.c)(g.AppProfilingDataLoaded({data:t.body.columns,name:e.payload.name,id:e.payload.i})):yield Object(c.c)(g.AppProfilingDataError(p.RESPONSE_ERROR))}catch(a){yield Object(c.c)(g.AppProfilingDataError(p.RESPONSE_ERROR))}}function*f(){yield Object(c.e)(g.loadAppProfilingData.type,h)}const u={loading:!1,error:null,AppProfilingData:[]},j=Object(l.a)({name:"AppProfiling",initialState:u,reducers:{loadAppProfilingData:e=>{e.loading=!0},AppProfilingDataLoaded:(e,t)=>{e.loading=!1,e.error=null,0===t.payload.length?e.AppProfilingData=[]:e.AppProfilingData.push(t.payload)},AppProfilingDataError:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{actions:g}=j,O=()=>(Object(s.a)({key:j.name,reducer:j.reducer}),Object(s.b)({key:j.name,saga:f}),{actions:j.actions}),m=e=>e.AppProfiling||u,w=Object(r.a)([m],(e=>e.AppProfilingData)),y=Object(r.a)([m],(e=>e.loading)),v=Object(r.a)([m],(e=>e.error));var k=n(1299),S=n(2);var C=function(e){let{kpiData:t,selectKpi:n,setSelectKpi:a}=e;return Object(S.jsx)(i.a,{textTransform:"capitalize",fontFamily:"Montserrat",fontWeight:"500",position:"absolute",alignItems:"center",justifyContent:"center",width:"198px",height:"30px",boxSizing:"border-box",borderRadius:"2",top:"2",right:"1.5",backgroundColor:"white1",boxShadow:"0px 3px 6px #00000029 ",color:"black",zIndex:"2",children:Object(S.jsx)(k.a,{fontSize:"12px",fontFamily:"Montserrat",fontWeight:"500",border:"0px ",_focus:{boxShadow:" 0 0 0 white"},size:"sm",value:n,onChange:e=>a(e.target.value),children:t.map(((e,t)=>Object(S.jsx)("option",{value:t,children:e.name})))})})},T=n(1346),E=n(1292),R=n(278),F=n(82),z=(n.p,n(377)),D=n(145),A=n(378);var P=function(e){let{kpiValue:t}=e;const[n,o]=Object(a.useState)(!0);return Object(S.jsx)(i.a,{fontSize:"12px",position:"absolute",right:"1.5",backgroundColor:"white1",boxShadow:"0px 3px 6px #00000029 ",width:"198px",top:"46px",boxSizing:"border-box",color:"black",fontFamily:"Montserrat",fontWeight:"500",zIndex:"2",children:Object(S.jsx)(i.a,{justifyContent:"space-between",width:"100%",alignItems:"center",borderRadius:"2",children:Object(S.jsx)(T.a,{borderTop:"0px white",allowMultiple:!0,padding:"0px 2px 0px 3px ",backgroundColor:"white",color:"black",fontWeight:"500",width:"100%",children:Object(S.jsxs)(T.d,{boxSizing:"border-box",children:[Object(S.jsx)(i.a,{width:"100%",justifyContent:"center",paddingTop:"1",alignItems:"center",children:Object(S.jsxs)(T.b,{padding:"10px 8px",paddingRight:"10px",display:"flex",justifyContent:"space-between",width:"100%",height:"8",border:"none",_focus:{boxShadow:" 0 0 0 white"},_hover:{backgroundColor:"#ffffff"},children:[Object(S.jsxs)(E.a,{width:"100%",textAlign:"left",fontSize:"12px",display:"flex",color:"black",fontWeight:"500",children:[t.name,Object(S.jsx)(E.a,{paddingLeft:"7px",children:Object(S.jsx)(z.CopyToClipboard,{text:JSON.stringify(t.value),onCopy:()=>{o(!1),setTimeout((()=>{o(!0)}),2e3)},children:n?Object(S.jsx)(R.a,{cursor:"pointer",as:D.a}):Object(S.jsx)(R.a,{cursor:"pointer",as:A.a})})})]}),Object(S.jsx)(T.c,{})]})}),Object(S.jsxs)(T.e,{borderTop:"1px solid #F3F6F9",padding:"0px",height:"105px",display:"flex",flexDirection:"column",justifyContent:"flex-start",children:[Object(S.jsxs)(i.a,{fontSize:"12px",textTransform:"capitalize",borderBottom:"1px solid #F3F6F9",padding:"4px 8px",paddingRight:"12px",backgroundColor:"",flexDirection:"row",justifyContent:"space-between",children:[Object(S.jsx)(F.a,{as:"span",children:"Avg"}),Object(S.jsx)(F.a,{as:"span",children:t.value.avg+t.unit})]}),Object(S.jsxs)(i.a,{fontSize:"12px",textTransform:"capitalize",borderBottom:"1px solid #F3F6F9",padding:"4px 8px",paddingRight:"12px",backgroundColor:"",flexDirection:"row",justifyContent:"space-between",children:[Object(S.jsx)(F.a,{as:"span",children:"Max"}),Object(S.jsx)(F.a,{as:"span",children:t.value.max+t.unit})]}),Object(S.jsxs)(i.a,{fontSize:"12px",textTransform:"capitalize",borderBottom:"1px solid #F3F6F9",padding:"4px 8px",paddingRight:"12px",backgroundColor:"",flexDirection:"row",justifyContent:"space-between",children:[Object(S.jsx)(F.a,{as:"span",children:"Min"}),Object(S.jsx)(F.a,{as:"span",children:t.value.min+t.unit})]})]})]})})})})};var L=function(e){let{children:t,shadow:n,title:a}=e;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(i.a,{fontFamily:"Montserrat",flexWrap:"nowrap",border:"1px solid ",borderColor:"grey6",borderRadius:"3px",position:"relative",border:"1px solid #00000029",backgroundColor:"white",children:[Object(S.jsx)(i.a,{position:"absolute",left:"2%",textTransform:"uppercase",fontWeight:"600",top:"15px",children:a}),t]})})},W=n(1636),M=n(1414),I=(n(1884),n(356));let N;var _=function(e){let{kpiData:t,shadow:n,isLoading:r,title:l}=e;const[s,c]=Object(a.useState)(0),[d,p]=Object(a.useState)({}),b=Object(o.d)(M.f),x=0!==Object.keys(b).length&&b.testStartTime;let h=0!==Object.keys(b).length&&b.testEndTime;Object(a.useEffect)((()=>{const e=function(e,t){let n=[],i=[];if(e.length>0){const o=e[t].name;try{n=e[t].datas.map((e=>e.TimeStamp)),i=e[t].datas.map((e=>e[o]))}catch(a){}}else n=[],i=[];return{chartLabel:n,chartData:i}}(t,s);p(e)}),[s,t]);let f={responsive:!0,maintainAspectRatio:!1,drawBorder:!0,elements:{point:{radius:.1,pointStyle:"circle"},line:{}},plugins:{datalabels:{display:!1},title:{text:"",display:!0,align:"start",color:"black",fullSize:!0,padding:{top:15,bottom:65},font:{size:12,family:"Montserrat",weight:500}},tooltip:{enabled:!0,callbacks:{title:function(e,t){const n=e[0].dataIndex,i=e[0].dataset.labels[n];return"time "+Object(I.a)(i)}}},legend:{display:!1,labels:{}}},scales:{x:{display:!0,type:"time",min:x,max:h,time:{displayFormats:{},unit:"minute"},backgroundColor:"white",padding:"20px",ticks:{beginAtZero:!0,display:!1,font:{size:8,fontFamily:"Montserrat"}},grid:{display:!1,borderColor:"#df4a8880",borderWidth:.6}},y:{position:"left",ticks:{mirror:!0,display:!0,min:0,callback:function(e,t,n){if(0!=e)return e},backgroundColor:"white",color:"black",font:{size:10,family:"Montserrat",weight:400}},grid:{drawBorder:!1,drawTicks:!0,tickMarkLength:1,tickLength:4,lineWidth:.7,backgroundColor:"white",color:"black",drawOnChartArea:!1},borderColor:"#F1150E",backgroundColor:"white"}}};return N={labels:d.chartLabel,datasets:[{data:d.chartData,labels:d.chartLabel,label:"value",fill:!0,pointBorder:!1,backgroundColor:"#f6cbddb3",borderColor:"#df4a8880",borderWidth:.6,pointBorderColor:"#F1150E"}]},Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(L,{title:l,shadow:n,children:[Object(S.jsx)(i.a,{position:"relative",width:"100%",paddingRight:"30px",justifyItems:"flex-end ",height:"218px",children:Object(S.jsx)(W.a,{style:{position:"absolute",zIndex:"2"},data:N,options:f})}),Object(S.jsx)(C,{kpiData:t,selectKpi:s,setSelectKpi:c}),Object(S.jsx)(P,{kpiValue:t[s]})]})})},B=n(108),K=n(190),H=n(1686),J=n(1519);let U,V=[],X=[];function G(e,t,n,i,a,o){e.fillStyle="#9999ff",V=[],X=[],o.map((t=>{!function(e,t,n,i,a){let o=n/10;t.current.style.position="absolute",e.beginPath(),e.moveTo(o*a.value-10,5),e.lineTo(o*a.value+10,5),e.lineTo(o*a.value,20),e.lineTo(o*a.value-10,5),e.fill(),e.lineTo(o*a.value,20),e.lineTo(o*a.value,i),e.fillStyle="#9999ff",e.strokeStyle="#ccccffe6",e.stroke();let r=U.left;V.push({left:r,start:U.width/10*a.value+r,tippos:U.width/10*a.value,...a})}(e,n,i,a,t)}))}var Y=function(e){let{data:t,isLeft:n}=e;const o=Object(a.useRef)(),r=Object(a.useRef)();return Object(a.useRef)(),Object(a.useEffect)((()=>{let e=o.current.getContext("2d");if(o.current){o.current.position="absolute",U=o.current.getBoundingClientRect(),G(e,0,o,window.innerWidth,window.innerHeight,t);const n=()=>{U=o.current.getBoundingClientRect(),e.canvas.height=window.innerHeight,e.canvas.width=window.innerWidth,G(e,0,o,window.innerWidth,window.innerHeight,t)};n();const i=e=>{if(o.current){const n=r.current.getContext("2d");n.fillStyle="#ffffff",r.current.position="absolute";const i=(t=e.clientX,V.filter((e=>e.start-1<=t&&t<=e.start+1))[0]);i&&e.clientX<1300?(r.current.style.background="#ffffff",r.current.style.fontFamily="montserrat",r.current.style.fontWeight=500,r.current.style.zIndex=1e3,r.current.style.borderRadius="5px",r.current.style.bgColor="#ffffff",r.current.style.fontSize="12px",r.current.style.display="block",r.current.style.right="10px",r.current.style.top="18px",r.current.style.zIndex=2,r.current.style.left=i.tippos-110+"px",n.save(),n.clearRect(0,0,220,110),n.fillRect(0,0,220,110),n.fillStyle="black",n.font="normal 12px ",n.fillText("event : "+i.eventName,5,12),n.fillText(i.testCase,5,25),n.restore()):r.current.style.display="none"}var t};return o.current.addEventListener("mousemove",i),window.addEventListener("resize",n),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("resize",n)}}}),[n]),Object(S.jsx)(i.a,{height:"10px",position:"relative",children:Object(S.jsx)(i.a,{position:"absolute",top:"-2px",h:"35px",width:"100%",zIndex:"1",padding:"0px 40px 0px 10px",paddingLeft:n?"215px":"10px",children:Object(S.jsxs)(i.a,{position:"relative",width:"100%",children:[Object(S.jsx)("canvas",{ref:o,id:"testcase",style:{width:"100%",height:"450px",zIndex:1,top:"0px",fontSize:"12px",position:"absolute"}}),Object(S.jsx)("canvas",{ref:r,height:32,width:210,style:{position:"absolute",background:"transparent",display:"none",fontSize:"12px",boxShadow:"0px 3px 6px #00000029",color:"black",fontFamily:"montserrat",zIndex:1e3}})]})})})};const Z=e=>e<=9?"0"+e:e;var q=function(e){let{children:t,duration:n,startTime:r,endTime:l,isLeft:s}=e;const[c,d]=Object(a.useState)([]),[p,b]=Object(a.useState)(!1),x=Object(o.d)(J.c),h=n/1e4;let f=[];return x.map(((e,t)=>{f.push({value:(new Date(e.time).valueOf()-new Date(r).valueOf())/1e3/h,id:t,...e})})),Object(a.useEffect)((()=>{d((e=>{let t=[],n="ms";e>1e3&&(n="s",(e/=1e3)>60&&(n="m",(e/=60)>60&&(e/=60,n="h")));let i=e/10;for(let a=0;a<=10;a++){let e="ms";const o=Math.floor(i*a);"m"===n?(e="s",t.push(Z(o)+n+":"+Z(Math.floor(60*(i*a-o)))+e)):"h"===n?(e="s",t.push(Z(o)+":"+n+Z(Math.floor(60*(i*a-o)))+e)):"s"===n?(e="ms",t.push(Z(o)+n+":"+(Math.floor(1e3*(i*a-o))/1e3).toFixed(0)+e)):t.push((i*a).toFixed(0)+n)}return t})(n))}),[n]),Object(S.jsxs)(i.a,{width:"100%",flexDirection:"column",padding:"0px",margin:"0px",fontFamily:"Montserrat",fontWeight:"500",children:[x.length>0&&Object(S.jsx)(i.a,{padding:"5px",paddingBottom:"0px",children:Object(S.jsxs)(K.a,{alignContent:"center",children:[Object(S.jsx)(F.a,{fontSize:"12px",textAlign:"end",as:"span",children:"Enable Events"}),Object(S.jsx)(H.a,{isFocusable:!1,size:"sm",height:"16px",_focus:{boxShadow:"0px 0px 0px white"},margin:"0px",padding:"0px",isChecked:p,onChange:e=>b(e.target.checked),marginTop:"5px"})]})}),Object(S.jsx)(i.a,{fontFamily:"Montserrat",fontWeight:"300",height:"25px",marginTop:"10px",backgroundColor:"#DEDEDE",justifyContent:"space-between",borderRadius:"2px",width:"100%",color:"black",paddingLeft:s?"215px":"10px",alignContent:"flex-end",children:c.map((e=>Object(S.jsxs)(i.a,{padding:"1px",fontSize:"8px",whiteSpace:"nowrap",textAlign:"start",as:"span",width:"45px",children:["| ",e]})))}),!p&&Object(S.jsx)(i.a,{h:"10px"}),p&&Object(S.jsx)(Y,{isLeft:s,data:f}),t]})};var Q=function(e){let{title:t}=e;return Object(S.jsx)(i.a,{flexdirection:"column",width:"100%",position:"relative",children:Object(S.jsxs)(i.a,{width:"100%",fontFamily:"Montserrat",flexWrap:"nowrap",border:"1px solid ",borderColor:"grey6",borderRadius:"3px",zIndex:"1",border:"1px solid #00000029",justifyContent:"center",children:[Object(S.jsx)(i.a,{position:"absolute",textTransform:"uppercase",left:"2%",fontWeight:"600",top:"15px",children:t}),Object(S.jsx)(i.a,{height:"218px",fontWeight:"600",align:"center",justify:"center",children:"No Content Available"})]})})},$=n(16),ee=n(223);const te=["cpu","battery","memory","graphics"];function ne(){const{testId:e}=Object($.t)(),{actions:t}=O(),n=Object(o.d)(y),r=(Object(o.d)(v),Object(o.c)()),l=Object(o.d)(w),s=Object(o.d)(M.f),c=0!==Object.keys(s).length&&new Date(s.testStartTime).valueOf(),d=0!==Object.keys(s).length&&s.testStartTime,p=0!==Object.keys(s).length&&s.testEndTime,b=(0!==Object.keys(s).length&&new Date(s.testEndTime).valueOf())-c;return Object(a.useEffect)((()=>{r(t.AppProfilingDataLoaded([]));for(let n=0;n<te.length;n++){const i=te[n],a={testId:e,name:i,i:n};r(t.loadAppProfilingData(a))}}),[e]),Object(S.jsx)(i.a,{width:"100%",children:Object(S.jsx)(i.a,{width:"100%",children:n?Object(S.jsx)(B.a,{}):Object(S.jsx)(q,{startTime:d,endTime:p,duration:b,children:Object(S.jsx)(i.a,{width:"100%",overflowY:"scroll",paddingTop:"2px",flexDirection:"column",height:"443px",css:{"&::-webkit-scrollbar":{width:"8px",border:"5px solid #F3F6F9"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px white"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#C1C1C1",borderRadius:"5px",boreder:"2px solid"}},bg:"white",children:l.length>0?Object(S.jsx)(S.Fragment,{children:l.slice().sort(((e,t)=>e.id-t.id)).map((e=>Object(S.jsxs)(S.Fragment,{children:[" ",e.data.length>0?Object(S.jsx)(_,{kpiData:e.data,shadow:!0,title:e.name}):Object(S.jsx)(Q,{title:e.name})]})))}):Object(S.jsx)(ee.a,{message:"No Content Available"})})})})})}t.default=ne;const ie=e=>e===p.RESPONSE_ERROR?"There is no such user \ud83d\ude1e":"An error has occurred!"}}]);
//# sourceMappingURL=28.d9740768.chunk.js.map