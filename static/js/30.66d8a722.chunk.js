(this["webpackJsonpapp-testing"]=this["webpackJsonpapp-testing"]||[]).push([[30],{1918:function(e,t,n){"use strict";n.r(t),n.d(t,"DownloadLog",(function(){return F}));var o=n(1341),a=n(70),c=n(82),d=n(190),r=n(108),i=n(223),l=n(1),s=n(18),x=n(16),j=n(1423),b=n(1443),p=n(278),h=n(125),O=n(2);var f=function(e){let{filename:t}=e;const{actions:n}=Object(j.c)(),{testId:o}=Object(x.t)(),c=Object(s.c)();return Object(O.jsxs)(a.a,{width:"100%",padding:"5px",borderBottom:"1px solid",borderBottomColor:"white10",color:"grey13",children:[Object(O.jsx)(a.a,{"data-file-name":"download-file-".concat(t),flex:2,padding:"1px 5px",textTransform:"none",children:t}),Object(O.jsx)(a.a,{flex:1,padding:"1px 5px",children:Object(O.jsx)("a",{target:"_blank",rel:"noreferrer",children:Object(O.jsx)(p.a,{cursor:"pointer","data-icon-id":"download-file-icon-".concat(t),w:"20px",onClick:()=>{c(n.loadDownloadFileUrl({testId:o,filename:t,type:"output"}))},h:"20px",as:h.a})})})]})},g=n(1346);var m=function(e){let{filename:t}=e;const{actions:n}=Object(j.c)(),{testId:o}=Object(x.t)(),c=Object(s.c)();return Object(O.jsxs)(a.a,{width:"100%",padding:"5px",borderBottom:"1px solid",borderBottomColor:"white10",color:"grey13",children:[Object(O.jsx)(a.a,{flex:2,"data-screen-name":"download-screenshot-".concat(t),padding:"1px 5px",textTransform:"none",children:t}),Object(O.jsx)(a.a,{flex:1,padding:"1px 5px",children:Object(O.jsx)("a",{target:"_blank",rel:"noreferrer",children:Object(O.jsx)(p.a,{cursor:"pointer","data-icon-id":"download-screenshot-icon-".concat(t),w:"20px",onClick:()=>{c(n.loadDownloadFileUrl({testId:o,filename:t,type:"screenshots"}))},h:"20px",as:h.a})})})]})};var u=function(e){let{fileData:t}=e;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(g.a,{allowToggle:!0,children:Object(O.jsxs)(g.d,{padding:"0px",children:[Object(O.jsx)(g.b,{padding:"0px",pa:!0,_focus:{boxShadow:"0px 0px 0px white"},_hover:{bg:"none"},children:Object(O.jsxs)(a.a,{padding:"4px 2px",fontSize:"14px",fontWeight:"500",align:"center",width:"100%",children:[Object(O.jsxs)(a.a,{paddingLeft:"8px",flex:2,children:[" ","Screenshots"]}),Object(O.jsx)(a.a,{flex:1,children:Object(O.jsx)(g.c,{})})]})}),Object(O.jsx)(g.e,{padding:"0px",paddingLeft:"10px",children:t.map(((e,t)=>Object(O.jsx)(m,{filename:e},t)))})]})})})},w=n(1865),D=n.n(w);var y=function(e){let{fileData:t,screenshotsData:n,tabType:o}=e;const c=Object(s.d)(b.a),d=Object(s.d)(b.d),r=Object(s.d)(b.b),x=Object(s.c)(),{actions:p}=Object(j.c)();return Object(l.useEffect)((()=>{if(r.hasOwnProperty("url")&&""!==r.url){const e=r.url;((e,t)=>{if(function(e){const t=e.slice(2+(e.lastIndexOf(".")-1>>>0));return[".mkv",".mp4"].includes(".".concat(t))}(e)){const n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}else D()({method:"GET",url:t,headers:{"Content-Disposition":"attachment; filename=".concat(e)},responseType:"blob"}).then((t=>{const n=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=n,o.setAttribute("download",e),document.body.appendChild(o),o.click()})).catch((e=>{console.error(e)}))})(r.fileName,e),x(p.downloadFileUrlLoaded({}))}}),[r]),Object(O.jsxs)(a.a,{alignContent:"center",flexDirection:"column",fontSize:"14px",justifyContent:"start",padding:"20px",children:[Object(O.jsxs)(a.a,{width:"100%",bg:"white3",color:"grey1",padding:"5px",children:[Object(O.jsx)(a.a,{flex:2,padding:"1px 5px",children:"file name"}),Object(O.jsx)(a.a,{flex:1,padding:"1px 5px",children:"Download Links"})]}),Object(O.jsx)(a.a,{height:"450px",flexDirection:"column",children:Object(O.jsxs)(a.a,{overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"8px",border:"5px solid #F3F6F9"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px white"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#C1C1C1",borderRadius:"5px",boreder:"2px solid"}},flexDirection:"column",children:["lr-interact"!==o&&Object(O.jsx)(O.Fragment,{children:1===c?Object(O.jsx)(i.a,{height:"100px",message:"Could not load Files"}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(O.Fragment,{children:t.length>0?Object(O.jsx)(O.Fragment,{children:t.map(((e,t)=>Object(O.jsx)(f,{filename:e},t)))}):Object(O.jsx)(i.a,{height:"100px",message:"No File Available"})})})}),1===d?Object(O.jsx)(i.a,{height:"100px",message:"Could not load Screenshots"}):Object(O.jsx)(O.Fragment,{children:n.length>0?Object(O.jsx)(u,{fileData:n}):Object(O.jsx)(i.a,{height:"100px",message:"No Screenshots Available"})})]})})]})};function F(e){let{tabType:t}=e;const n=Object(s.d)(b.c),i=Object(s.d)(b.e),p=Object(s.d)(b.g),h=Object(s.d)(b.h),f=Object(s.c)(),{actions:g}=Object(j.c)(),{testId:m}=Object(x.t)(),u=Object(o.a)(),w=Object(s.d)(b.f);return Object(l.useEffect)((()=>{"lr-interact"!==t?(f(g.DownloadLogDataLoaded([])),f(g.DownloadScreenshotsDataLoaded([])),f(g.loadDownloadLogData(m)),f(g.loadDownloadScreenshotsData(m))):(f(g.DownloadScreenshotsDataLoaded([])),f(g.loadDownloadScreenshotsData(m)))}),[m]),Object(l.useEffect)((()=>{1===w&&(u({title:"Something went wrong",description:"Please refresh",status:"error",isClosable:!0,position:"bottom-right"}),f(g.downloadFileUrlError(null)))}),[w]),Object(O.jsxs)(a.a,{marginTop:"10px ",fontFamily:"Montserrat",fontWeight:"500",fontSize:"14px",flexDirection:"column",background:"white1",width:"100%",padding:"10px",color:"grey15",boxShadow:"2px 8px 6px #00000029",children:[Object(O.jsx)(c.a,{paddingBottom:"1",paddingLeft:"0.5",fontWeight:"500",color:"#3F4254"}),p||h?Object(O.jsx)(r.a,{}):Object(O.jsx)(O.Fragment,{children:(n.length>0&&i.length,Object(O.jsx)(d.b,{width:"100%",spacing:"12px",children:Object(O.jsx)(y,{fileData:n,tabType:t,screenshotsData:i})}))})]})}t.default=F}}]);
//# sourceMappingURL=30.66d8a722.chunk.js.map